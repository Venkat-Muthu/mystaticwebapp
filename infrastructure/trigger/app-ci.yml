# this is being defined in app-ci pipeline
resources:
  pipelines:
  - pipeline: deployment   # Name of the pipeline resource
    source: build # Name of the pipeline referenced by the pipeline resource

    # Trigger always. For example, on build deploy
    trigger: true # Run app-ci pipeline when any run of security-lib-ci completes

    # # Trigger by condition. For example, with Tag: (UAT/PROD) and Branch : Master, then deploy on UAT
    # trigger:
    #   tags:
    #     - Production
    #     - Signed
    #   branches:
    #     include: 
    #     - releases/*
    #     exclude:
    #     - releases/old*
    #   stages:
    #     - PreProduction
    #     - Production
steps:
  - script: echo 'Build completed, now artifact will be downloaded'
  - task: DownloadPipelineArtifact@2
    inputs:
      artifact: 'drop'
      path: $(Build.SourcesDirectory)/bin

